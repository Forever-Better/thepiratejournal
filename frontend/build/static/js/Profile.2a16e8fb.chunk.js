"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[97],{6822:function(i,e,n){n.r(e),n.d(e,{default:function(){return h}});var a=n(885),t=n(2791),s=n(7689),l=n(1087),o=n(7339),r=n(588),c=n(868),d=n(1452),u={root:"Profile_root__iM9Le",wrapper:"Profile_wrapper__7MEo0",top:"Profile_top__U1M8x",top__img:"Profile_top__img__5esW3",top__wrapper:"Profile_top__wrapper__MmR3X",top__info:"Profile_top__info__hLcow",info__headline:"Profile_info__headline__iAr-x",info__counters:"Profile_info__counters__SMLsX",location:"Profile_location__LqTmA",signupDate:"Profile_signupDate__klSWC",tabList:"Profile_tabList__oMu9M",navLink:"Profile_navLink__4sKCQ",tabLabel:"Profile_tabLabel__rVqK5",active:"Profile_active__vIABc"},v=n(9894),_=n(4165),p=n(5861),f=n(184),m=function(){var i=(0,t.useRef)(null),e=(0,t.useState)(),n=(0,a.Z)(e,2),s=n[0],l=n[1],r=(0,o.M_)(),d=(0,a.Z)(r,1)[0];return(0,t.useEffect)((function(){var i=function(){var i=(0,p.Z)((0,_.Z)().mark((function i(){var e;return(0,_.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s){i.next=2;break}return i.abrupt("return",alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"));case 2:(e=new FormData).append("image",s),d(e);case 5:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();s&&i()}),[s,d]),(0,f.jsxs)("div",{children:[(0,f.jsx)(c.zx,{onClick:function(){var e;null===(e=i.current)||void 0===e||e.click()},variant:"filledTonal",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440"}),(0,f.jsx)("input",{ref:i,className:"hidden",type:"file",onChange:function(i){l(i.target.files[0])},accept:"image/jpeg,image/png,image/webp",name:"photo"})]})},x=[{activeSection:"articles",text:"\u0421\u0442\u0430\u0442\u044c\u0438",icon:"book"},{activeSection:"appreciated",text:"\u041e\u0446\u0435\u043d\u043a\u0438",icon:"favorite"},{activeSection:"bookmarks",text:"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438",icon:"bookmarks"},{activeSection:"drafts",text:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a\u0438",icon:"edit_document"}],h=function(){var i,e,n,_,p=(0,s.UO)().username;(0,d.Z7)(p);var h=null!==(i=(0,s.TH)().pathname.split("/")[3])&&void 0!==i?i:"articles",j=(0,t.useState)(h||"articles"),b=(0,a.Z)(j,2),N=b[0],k=b[1],g=(0,o.GR)(p),w=g.data,L=g.isLoading,P=g.refetch;if((0,t.useEffect)((function(){k(h)}),[h]),L)return(0,f.jsx)(c.aV,{});var S=null===w||void 0===w?void 0:w.user,y=null===w||void 0===w?void 0:w.articles,M=null===w||void 0===w?void 0:w.isOwner,C=null===y||void 0===y?void 0:y.map((function(i,e){return(0,f.jsx)(c.p2,{article:i},e)})),Z=null===w||void 0===w||null===(e=w.appreciated)||void 0===e?void 0:e.map((function(i,e){return(0,f.jsx)(c.p2,{article:i},e)})),q=null===w||void 0===w||null===(n=w.bookmarks)||void 0===n?void 0:n.map((function(i,e){return(0,f.jsx)(c.p2,{article:i},e)})),A=null===w||void 0===w||null===(_=w.drafts)||void 0===_?void 0:_.map((function(i,e){return(0,f.jsx)(c._J,{draft:i,refetch:P},e)})),D=x.map((function(i,e){return(0,f.jsx)("li",{children:(0,f.jsx)(l.OL,{to:"/users/".concat(p,"/").concat(i.activeSection),className:function(e){var n=e.isActive;return[u.navLink,n||"articles"===h&&"articles"===i.activeSection?u.active:void 0].filter(Boolean).join(" ")},children:(0,f.jsxs)("span",{className:u.tabLabel,children:[(0,f.jsx)("span",{className:"material-symbols-outlined",children:i.icon}),i.text]})})},e)})),E=(0,r.qp)(null===S||void 0===S?void 0:S.timestamp);return(0,f.jsx)("div",{className:u.root,children:(0,f.jsxs)("div",{className:u.wrapper,children:[(0,f.jsxs)("div",{className:u.top,children:[(0,f.jsx)(c.qE,{imageSrc:null===S||void 0===S?void 0:S.avatar,width:110}),(0,f.jsxs)("div",{className:u.top__wrapper,children:[(0,f.jsxs)("div",{className:u.top__info,children:[(0,f.jsx)("h3",{className:u.info__headline,children:null===S||void 0===S?void 0:S.username}),(0,f.jsxs)("div",{className:u.info__counters,children:["\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438: ",(0,f.jsx)("span",{children:null===w||void 0===w?void 0:w.user.followersCount})]}),(0,f.jsxs)("div",{className:u.location,children:[(0,f.jsx)("span",{className:"material-symbols-outlined",children:"location_on"}),null!==w&&void 0!==w&&w.user.info.city&&null!==w&&void 0!==w&&w.user.info.country?"".concat(null===w||void 0===w?void 0:w.user.info.city,",\n                                ").concat(null===w||void 0===w?void 0:w.user.info.country):"\u041f\u0438\u0440\u0430\u0442\u0441\u043a\u0438\u0439 \u043a\u043e\u0440\u0430\u0431\u043b\u044c"]})]}),M&&(0,f.jsx)(m,{}),!M&&(0,f.jsx)(v.q,{username:p,hasSubscription:null===w||void 0===w?void 0:w.viewer.hasSubscription})]}),(0,f.jsxs)("span",{className:u.signupDate,children:["\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ",E]})]}),(0,f.jsxs)("section",{className:"".concat(u.articlesSection," articles"),children:[(0,f.jsx)("nav",{children:(0,f.jsx)("ul",{className:u.tabList,children:M?D:[D[0],D[1]]})}),"articles"===N&&(0,f.jsx)("div",{className:"articles__list",children:0!==(null===C||void 0===C?void 0:C.length)?C:M&&(0,f.jsx)(c.ap,{create:!0})}),"appreciated"===N&&(0!==(null===Z||void 0===Z?void 0:Z.length)?(0,f.jsx)("div",{className:"appreciated__list",children:Z}):M&&(0,f.jsx)("div",{className:"articles__list",children:(0,f.jsx)(c.ap,{find:!0})})),"bookmarks"===N&&(0!==(null===q||void 0===q?void 0:q.length)?(0,f.jsx)("div",{className:"appreciated__list",children:q}):M&&(0,f.jsx)("div",{className:"articles__list",children:(0,f.jsx)(c.ap,{find:!0})})),"drafts"===N&&(0,f.jsxs)("div",{className:"articles__list",children:[A,(0,f.jsx)(c.ap,{draft:!0})]})]})]})})}}}]);
//# sourceMappingURL=Profile.2a16e8fb.chunk.js.map
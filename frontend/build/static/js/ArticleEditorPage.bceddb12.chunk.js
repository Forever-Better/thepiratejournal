"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[870],{8712:function(e,t,n){n.d(t,{U:function(){return u}});var r=n(4165),o=n(5861),i=n(885),s=n(2791),a=n(7689),l="BtnLeftFixed_root__49-y8",c="BtnLeftFixed_icon__ncR0K",d=n(184),u=function(){var e=(0,a.s0)(),t=(0,d.jsx)("button",{onClick:function(){return e(-1)},className:l,children:(0,d.jsxs)("div",{className:"".concat(c," icon-center"),children:[(0,d.jsx)("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M15.88 18.12a1.25 1.25 0 0 1-1.76 1.76l-7-7a1.25 1.25 0 0 1 0-1.76l7-7a1.25 1.25 0 0 1 1.76 1.76L9.77 12z",fill:"currentColor"})}),"\u041d\u0430\u0437\u0430\u0434"]})}),n=(0,d.jsx)("button",{onClick:function(){return window.scrollTo(0,0)},className:l,children:(0,d.jsx)("div",{className:"icon-center",children:(0,d.jsx)("svg",{fill:"none",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M20.35 16.76a1 1 0 1 0 1.3-1.52l-7-6a1 1 0 0 0-1.3 0l-7 6a1 1 0 0 0 1.3 1.52L14 11.32z",fill:"currentColor"})})})}),u=s.useState(t),h=(0,i.Z)(u,2),f=h[0],p=h[1],v=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.scrollY>0?p(n):p(t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.useEffect((function(){window.addEventListener("scroll",v)})),f}},8675:function(e,t,n){n.d(t,{f:function(){return a}});n(2791);var r=n(7689),o="ButtonClose_root__OHUgB",i="ButtonClose_closeIcon__TQ-yO",s=n(184),a=function(){var e=(0,r.s0)();return(0,s.jsx)("button",{onClick:function(){return e(-1)},className:o,children:(0,s.jsx)("svg",{className:i,xmlns:"http://www.w3.org/2000/svg",width:"26px",height:"26px",viewBox:"0 0 26 26",id:"i-close",fill:"none",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M2 24 L24 2 M24 24 L2 2"})})})}},5996:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(885),o=n(2791),i=n(7689),s=n(1087),a=n(2833),l=n.n(a),c=n(8675),d={root:"ArticleEditorPage_root__aQp59",top:"ArticleEditorPage_top__Cq9LO",top__author:"ArticleEditorPage_top__author__7HqYd",author__text:"ArticleEditorPage_author__text__b5rNk",headline:"ArticleEditorPage_headline__uEpRW",top__labels:"ArticleEditorPage_top__labels__E069c",labels__publish:"ArticleEditorPage_labels__publish__BWyfB",top__right:"ArticleEditorPage_top__right__JisKF"},u=n(5054),h=n.n(u),f=n(3256),p=n.n(f),v=n(4292),x=n.n(v),_=n(4898),g=n.n(_),j=n(6705),m=n.n(j),w=n(6584),b=n.n(w),k=n(3631),C=n.n(k),N=function(){return{autofocus:!1,tools:{header:{class:h(),required:!0,config:{placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",levels:[2,3,4],defaultLevel:3}},paragraph:{config:{placeholder:"\u041f\u0430\u0440\u0430\u0433\u0440\u0430\u0444"}},image:{class:p(),config:{endpoints:{byFile:"http://localhost:5000/api/upload",byUrl:"http://localhost:8008/fetchUrl"}}},list:x(),delimiter:g(),marker:m(),inlineCode:b(),warning:{class:C(),inlineToolbar:!0,shortcut:"CMD+SHIFT+W",config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}}},data:{blocks:[{id:"o72AO0sY-1",type:"header",data:{level:2}},{id:"6LPs8gr9-a",type:"paragraph"}]},blockTunes:{delete:{Delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},moveUp:{"Move up":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u0432\u0435\u0440\u0445"},moveDown:{"Move down":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437"}},i18n:{messages:{ui:{blockTunes:{toggler:{"Click to tune":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c","or drag to move":"\u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435"}},inlineToolbar:{converter:{"Convert to":"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432"}},toolbar:{toolbox:{Add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}}},toolNames:{Text:"\u041f\u0430\u0440\u0430\u0433\u0440\u0430\u0444",Heading:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",Image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",List:"\u0421\u043f\u0438\u0441\u043e\u043a",Warning:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",Checklist:"\u0427\u0435\u043a\u043b\u0438\u0441\u0442",Quote:"\u0426\u0438\u0442\u0430\u0442\u0430",Code:"\u041a\u043e\u0434",Delimiter:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c","Raw HTML":"HTML-\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442",Table:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",Link:"\u0421\u0441\u044b\u043b\u043a\u0430",Marker:"\u041c\u0430\u0440\u043a\u0435\u0440",Bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",Italic:"\u041a\u0443\u0440\u0441\u0438\u0432",InlineCode:"\u041c\u043e\u043d\u043e\u0448\u0438\u0440\u0438\u043d\u043d\u044b\u0439"},tools:{warning:{Title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},link:{"Add a link":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443"},stub:{"The block can not be displayed correctly.":"\u0411\u043b\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d"}},blockTunes:{delete:{Delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},moveUp:{"Move up":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u0432\u0435\u0440\u0445"},moveDown:{"Move down":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437"}}}}}},L=n(8712),y=n(6737),P=n(4165),Z=n(5861),A=n(71),E=n(6466),B=n(4630),M=n(1643),T=n(5722),U=n(7977),F=n(7754),S=n(1568),W=n(8087),D={cover:"CoverWindow_cover__A6Fuf",cover__closeBtn:"CoverWindow_cover__closeBtn__goXMQ"},z=n(184),H=function(e){var t=e.uploadedUrl,n=e.setUploadedUrl,i=(e.onClickSave,e.selectedFile),s=e.setSelectedFile,a=(0,o.useRef)(null),l=(0,y.Hc)(),c=(0,r.Z)(l,2),d=c[0],u=c[1],h=u.data,f=u.isLoading,p=(0,y.tP)(),v=(0,r.Z)(p,1)[0],x=function(){var e;null===(e=a.current)||void 0===e||e.click()},_=function(){var e=(0,Z.Z)((0,P.Z)().mark((function e(){var t;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i||alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),(t=new FormData).append("cover",i),d(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){i&&_()}),[i]),(0,o.useEffect)((function(){h&&n(h.file.url)}),[h]);var g=function(){var e=(0,Z.Z)((0,P.Z)().mark((function e(t){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.target.files[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){i&&(n(""),s(""),v(h.file))};return(0,z.jsx)("div",{className:D.root,children:(0,z.jsxs)(E.hg,{children:[(0,z.jsx)(B.zx,{variant:"primary",children:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430"}),function(e){return(0,z.jsxs)(E.Vq,{children:[(0,z.jsx)(M.X6,{children:"\u0412\u044b\u0431\u043e\u0440 \u043e\u0431\u043b\u043e\u0436\u043a\u0438"}),(0,z.jsx)(T.i,{}),(0,z.jsx)(U.VY,{maxWidth:568,height:308,width:"100%",children:i?f?(0,z.jsx)("div",{className:"cdx-loader"}):(0,z.jsx)("div",{className:D.cover,style:{backgroundImage:"url(".concat(t,")")},children:t&&(0,z.jsx)("button",{onClick:j,className:"".concat(D.cover__closeBtn," icon-center"),children:(0,z.jsx)(A.bjh,{size:14,color:"white"})})}):(0,z.jsx)(F.I,{height:300,children:(0,z.jsxs)("button",{onClick:x,children:[(0,z.jsx)(W.Z,{}),(0,z.jsx)(M.X6,{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"}),(0,z.jsx)("input",{ref:a,className:"hidden",type:"file",onChange:g,accept:"image/jpeg,image/png,image/webp",name:"photo"}),(0,z.jsxs)(U.VY,{children:["\u0424\u043e\u0440\u043c\u0430\u0442 \u2014 JPG, WEBP, \u0438\u043b\u0438 PNG ",(0,z.jsx)("br",{})]})]})})}),(0,z.jsxs)(S.h,{children:[(0,z.jsx)(B.zx,{variant:"secondary",onPress:function(){j(),e()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,z.jsx)(B.zx,{onPress:function(){return e()},isDisabled:!i,variant:"cta",autoFocus:!0,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})}]})})},I=n(4371),q=n(3258),O=function(){var e=(0,i.s0)(),t=(0,o.useState)(""),n=(0,r.Z)(t,2),a=n[0],u=n[1],h=(0,o.useState)(""),f=(0,r.Z)(h,2),p=f[0],v=f[1],x=(0,o.useState)({}),_=(0,r.Z)(x,2),g=_[0],j=_[1];(0,o.useEffect)((function(){var e=new(l())(N());j(e)}),[]);var m=(0,y.rr)(),w=(0,r.Z)(m,1)[0],b=function(){g.save().then((function(e){delete e.version;var t=Object.assign(e,{cover:p});w(t),console.log("Article data: ",e)})).catch((function(e){console.log("Saving failed: ",e)})),e(-1)},k=(0,I.a)(),C=k.user?k.user.avatar:"",P=k.user?k.user.userName:"";return(0,z.jsxs)("div",{className:d.root,children:[(0,z.jsx)(L.U,{}),(0,z.jsx)(c.f,{}),(0,z.jsxs)("div",{className:"container-720",children:[(0,z.jsxs)("div",{className:d.top,children:[(0,z.jsxs)("div",{className:d.top__author,children:[(0,z.jsx)(s.rU,{to:"/profile",children:(0,z.jsx)(q.q,{imageSrc:C,width:46})}),(0,z.jsxs)("div",{className:d.author__text,children:[(0,z.jsx)("div",{className:d.headline,children:P}),(0,z.jsx)("span",{className:"".concat(d.subhead," tp-text"),children:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f"})]})]}),(0,z.jsxs)("div",{className:d.top__right,children:[(0,z.jsx)(H,{uploadedUrl:p,setUploadedUrl:v,onClickSave:b,selectedFile:a,setSelectedFile:u}),(0,z.jsxs)(E.hg,{children:[(0,z.jsx)(B.zx,{isDisabled:!a,variant:"cta",children:"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f"}),function(e){return(0,z.jsx)(E.aR,{width:"auto",maxWidth:1200,variant:"confirmation",title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e",primaryActionLabel:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",secondaryActionLabel:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a",cancelLabel:"\u041e\u0442\u043c\u0435\u043d\u0430",onPrimaryAction:b,children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e?"})}]})]})]}),(0,z.jsx)("div",{id:"editorjs"})]})]})}}}]);
//# sourceMappingURL=ArticleEditorPage.bceddb12.chunk.js.map
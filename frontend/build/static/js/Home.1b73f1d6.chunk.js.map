{"version":3,"file":"static/js/Home.1b73f1d6.chunk.js","mappings":"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","sources":["components/ArticlePreview copy/ArticlePreview.module.scss","components/ArticlePreview copy/index.tsx","webpack://client/./src/pages/Home/HomeSectionPrompt/HomeSectionPrompt.module.scss?d4c7","pages/Home/HomeSectionPrompt/index.tsx","webpack://client/./src/pages/Home/TabPanel/TabPanel.module.scss?9c99","pages/Home/TabPanel/index.tsx","webpack://client/./src/pages/Home/Home.module.scss?ce6f","pages/Home/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"ArticlePreview_root__dLexp\",\"top__img\":\"ArticlePreview_top__img__AYDjB\",\"thumbnail\":\"ArticlePreview_thumbnail__ipV2O\",\"thumbContainer\":\"ArticlePreview_thumbContainer__zccpx\",\"thumbImg\":\"ArticlePreview_thumbImg__uTxjX\",\"bookmark__wrapper\":\"ArticlePreview_bookmark__wrapper__8SXmP\",\"contentContainer\":\"ArticlePreview_contentContainer__v1aw-\",\"text\":\"ArticlePreview_text__34fPc\",\"headline\":\"ArticlePreview_headline__vh4jo\",\"nameAndStats\":\"ArticlePreview_nameAndStats__qYKDf\",\"author\":\"ArticlePreview_author__6hTkf\",\"stats\":\"ArticlePreview_stats__r5qqp\"};","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { convertDateShort } from '../../helpers/convertDate';\r\nimport { Article } from '../../redux/services/article';\r\nimport { ArticleStats } from '../ArticleStats';\r\n\r\nimport styles from './ArticlePreview.module.scss';\r\n\r\ninterface ArticlePreviewProps {\r\n    article: Article;\r\n}\r\n\r\nexport const ArticlePreview: React.FC<ArticlePreviewProps> = ({ article }) => {\r\n    const location = useLocation();\r\n\r\n    const title = article.title;\r\n    const id = article._id;\r\n    const author = article.author.username;\r\n    const cover = article.cover;\r\n    const timestamp = article.created_on;\r\n    const viewsCount = article.views.count;\r\n    const likesCount = article.likes.count;\r\n\r\n    const date = convertDateShort(timestamp);\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            <Link to={`/articles/${id}`} state={{ from: location }} className={styles.thumbnail}>\r\n                {' '}\r\n                <div className={styles.thumbContainer}>\r\n                    <div\r\n                        className={styles.thumbImg}\r\n                        style={{ backgroundImage: `url(${cover})` }}></div>\r\n\r\n                    {/* <div className={styles.bookmark__wrapper}>\r\n                    <ButtonBookmark />\r\n                </div> */}\r\n                </div>\r\n                <div className={styles.contentContainer}>\r\n                    <div className={styles.text}>\r\n                        <div\r\n                            className={styles.headline}\r\n                            dangerouslySetInnerHTML={{ __html: title ? title : 'Без названия' }}\r\n                        />\r\n                        <div className={styles.nameAndStats}>\r\n                            <span className={`${styles.author} tp-text`}>{author}</span>\r\n                            <ArticleStats viewsCount={viewsCount} likesCount={likesCount} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"HomeSectionPrompt_root__ai4Jf\",\"headline\":\"HomeSectionPrompt_headline__mqFBq\",\"paragraph\":\"HomeSectionPrompt_paragraph__HOQ7L\"};","import React from 'react';\r\n\r\nimport styles from './HomeSectionPrompt.module.scss';\r\n\r\ninterface HomeSectionPromptProps {\r\n    headline?: string;\r\n    text?: string;\r\n}\r\n\r\nexport const HomeSectionPrompt: React.FC<HomeSectionPromptProps> = ({ headline, text }) => {\r\n    return (\r\n        <div className={styles.root}>\r\n            <h4 className={styles.headline}>{headline}</h4>\r\n            <p className={styles.paragraph}>{text}</p>\r\n        </div>\r\n    );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"TabPanel_root__XYtwf\",\"tabMenu__wrapper\":\"TabPanel_tabMenu__wrapper__0Tlpk\",\"tabMenu\":\"TabPanel_tabMenu__SIAf5\",\"tabMenu__tab\":\"TabPanel_tabMenu__tab__yg3Nz\",\"active\":\"TabPanel_active__AhQxe\",\"tabIcon\":\"TabPanel_tabIcon__AfYCr\",\"tabIconText\":\"TabPanel_tabIconText__Ow07X\"};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../../../hooks';\r\nimport { Overlay } from '../../../components';\r\n\r\nimport styles from './TabPanel.module.scss';\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    activeSection: string;\r\n    setActiveSection: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nexport const TabPanel: React.FC<TabPanelProps> = ({\r\n    children,\r\n    activeSection,\r\n    setActiveSection,\r\n}) => {\r\n    const { user, isLoading } = useAuth();\r\n\r\n    if (isLoading) return <Overlay />;\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            <section className=\"articles\">\r\n                <div className={styles.tabMenu__wrapper}>\r\n                    <ul className={styles.tabMenu}>\r\n                        <li className={styles.tabMenu__tab}>\r\n                            <Link\r\n                                to=\"/for_you\"\r\n                                onClick={() => setActiveSection('for_you')}\r\n                                className={activeSection === 'for_you' ? styles.active : ''}>\r\n                                <div className={styles.tabIcon}>\r\n                                    <span className=\"material-symbols-outlined\">explore</span>{' '}\r\n                                    <span className={styles.tabIconText}>Обзор</span>\r\n                                </div>\r\n                            </Link>\r\n                        </li>\r\n\r\n                        {user && (\r\n                            <>\r\n                                <li className={styles.tabMenu__tab}>\r\n                                    <Link\r\n                                        to=\"/following\"\r\n                                        onClick={() => setActiveSection('following')}\r\n                                        className={\r\n                                            activeSection === 'following' ? styles.active : ''\r\n                                        }>\r\n                                        <div className={styles.tabIcon}>\r\n                                            <span className=\"material-symbols-outlined\">group</span>{' '}\r\n                                            <span className={styles.tabIconText}>Подписки</span>\r\n                                        </div>\r\n                                    </Link>\r\n                                </li>\r\n                            </>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                <ul className=\"articles__list\">{children}</ul>\r\n            </section>\r\n        </div>\r\n    );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Home_root__ITZZu\"};","import { useLocation } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { Article, useGetArticlesQuery } from '../../redux';\r\nimport { useDocTitle } from '../../hooks/useDocTitle';\r\nimport { ArticlePreview, ArticleSkeleton } from '../../components';\r\nimport { ArticlePreview as Ap } from '../../components/ArticlePreview copy';\r\nimport { HomeSectionPrompt } from './HomeSectionPrompt';\r\nimport { TabPanel } from './TabPanel';\r\n\r\nimport styles from './Home.module.scss';\r\n\r\nconst Home = () => {\r\n    useDocTitle('');\r\n    const location = useLocation();\r\n\r\n    const sectionFromUrl = location.pathname.split('/')[1];\r\n    const [activeSection, setActiveSection] = useState(sectionFromUrl ? sectionFromUrl : 'for_you');\r\n    const { data, isLoading, isSuccess, isError } = useGetArticlesQuery({\r\n        section: activeSection,\r\n    });\r\n\r\n    const articlesList = isLoading ? (\r\n        <ArticleSkeleton counts={12} />\r\n    ) : isError ? (\r\n        <h3>Здесь появятся статьи для тебя</h3>\r\n    ) : (\r\n        isSuccess && data?.map((article: Article, id: number) => <Ap key={id} article={article} />)\r\n    );\r\n\r\n    const articles =\r\n        activeSection === 'for_you' ? (\r\n            articlesList\r\n        ) : activeSection === 'following' && !data && isSuccess ? (\r\n            <HomeSectionPrompt\r\n                headline=\"Ты еще не подписан ни на одного автора.\"\r\n                text=\"Подписавшись на автора, ты увидишь все его проекты, которые автор делает доступными для подписчиков.\"\r\n            />\r\n        ) : (\r\n            articlesList\r\n        );\r\n    return (\r\n        <div className={styles.root}>\r\n            <TabPanel activeSection={activeSection} setActiveSection={setActiveSection}>\r\n                {articles}\r\n            </TabPanel>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["ArticlePreview","article","location","useLocation","title","id","_id","author","username","cover","timestamp","created_on","viewsCount","views","count","likesCount","likes","convertDateShort","className","styles","to","state","from","style","backgroundImage","dangerouslySetInnerHTML","__html","ArticleStats","HomeSectionPrompt","headline","text","TabPanel","children","activeSection","setActiveSection","useAuth","user","isLoading","onClick","useDocTitle","sectionFromUrl","pathname","split","useState","useGetArticlesQuery","section","data","isSuccess","isError","articlesList","counts","map","articles"],"sourceRoot":""}
{"version":3,"file":"static/js/Article.432709b5.chunk.js","mappings":"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","sources":["webpack://client/./src/components/Buttons/BtnLeftFixed/BtnLeftFixed.module.scss?3d56","components/Buttons/BtnLeftFixed/index.tsx","webpack://client/./src/components/Buttons/ButtonClose/ButtonClose.module.scss?c963","components/Buttons/ButtonClose/index.tsx","pages/Article/convertDate.ts","pages/Article/toHtml.ts","webpack://client/./src/pages/Article/Article.module.scss?c0ea","pages/Article/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"BtnLeftFixed_root__49-y8\",\"icon\":\"BtnLeftFixed_icon__ncR0K\"};","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport styles from './BtnLeftFixed.module.scss';\r\n\r\nexport const BtnLeftFixed = () => {\r\n    const navigate = useNavigate();\r\n\r\n    const BtnBack = (\r\n        <button onClick={() => navigate(-1)} className={styles.root}>\r\n            <div className={`${styles.icon} icon-center`}>\r\n                <svg\r\n                    fill=\"none\"\r\n                    height=\"24\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    width=\"24\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                        d=\"M15.88 18.12a1.25 1.25 0 0 1-1.76 1.76l-7-7a1.25 1.25 0 0 1 0-1.76l7-7a1.25 1.25 0 0 1 1.76 1.76L9.77 12z\"\r\n                        fill=\"currentColor\"></path>\r\n                </svg>\r\n                Назад\r\n            </div>\r\n        </button>\r\n    );\r\n    const BtnUp = (\r\n        <button onClick={() => window.scrollTo(0, 0)} className={styles.root}>\r\n            <div className=\"icon-center\">\r\n                <svg\r\n                    fill=\"none\"\r\n                    height=\"28\"\r\n                    viewBox=\"0 0 28 28\"\r\n                    width=\"28\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                        d=\"M20.35 16.76a1 1 0 1 0 1.3-1.52l-7-6a1 1 0 0 0-1.3 0l-7 6a1 1 0 0 0 1.3 1.52L14 11.32z\"\r\n                        fill=\"currentColor\"></path>\r\n                </svg>\r\n            </div>\r\n        </button>\r\n    );\r\n\r\n    const [button, setButton] = React.useState(BtnBack);\r\n\r\n    const listenScrollEvent = async () => {\r\n        window.scrollY > 0 ? setButton(BtnUp) : setButton(BtnBack);\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        window.addEventListener('scroll', listenScrollEvent);\r\n    });\r\n\r\n    return button;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"ButtonClose_root__OHUgB\",\"closeIcon\":\"ButtonClose_closeIcon__TQ-yO\"};","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport styles from './ButtonClose.module.scss';\r\n\r\nexport const ButtonClose: React.FC = () => {\r\n    const navigate = useNavigate();\r\n\r\n    return (\r\n        <button onClick={() => navigate(-1)} className={styles.root}>\r\n            <svg\r\n                className={styles.closeIcon}\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"26px\"\r\n                height=\"26px\"\r\n                viewBox=\"0 0 26 26\"\r\n                id=\"i-close\"\r\n                fill=\"none\"\r\n                stroke=\"currentcolor\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\">\r\n                <path d=\"M2 24 L24 2 M24 24 L2 2\" />\r\n            </svg>\r\n        </button>\r\n    );\r\n};\r\n","export const convertDateLong = (timestamp: string) => {\r\n    const date = Number(timestamp);\r\n    const dateObj = new Date(date);\r\n\r\n    const monthDay = dateObj.toLocaleString('ru-Ru', { month: 'long', day: 'numeric' });\r\n    const hourMinute = dateObj.toLocaleString('ru-Ru', { hour: '2-digit', minute: '2-digit' });\r\n\r\n    return `${monthDay} в ${hourMinute}`;\r\n};\r\n\r\nexport const convertDateShort = (timestamp: string) => {\r\n    const date = Number(timestamp);\r\n    const dateObj = new Date(date);\r\n\r\n    const dateShort = dateObj.toLocaleString('ru-Ru', {\r\n        month: 'long',\r\n        day: 'numeric',\r\n    });\r\n\r\n    return dateShort;\r\n};\r\n","import { Block } from '../../redux';\r\n\r\nexport const toHtml = (blocks: Block[]) => {\r\n    let convertedHtml = '';\r\n    blocks.map((block: any) => {\r\n        switch (block.type) {\r\n            case 'header':\r\n                convertedHtml += `<h${block.data.level}>${block.data.text}</h${block.data.level}>`;\r\n                break;\r\n            case 'embded':\r\n                convertedHtml += `<div><iframe width=\"560\" height=\"315\" src=\"${block.data.embed}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe></div>`;\r\n                break;\r\n            case 'paragraph':\r\n                convertedHtml += `<p>${block.data.text}</p>`;\r\n                break;\r\n            case 'delimiter':\r\n                convertedHtml += '<hr />';\r\n                break;\r\n            case 'image':\r\n                convertedHtml += `<img class=\"img-fluid\" src=\"${block.data.file.url}\" title=\"${block.data.caption}\" /><br /><em>${block.data.caption}</em>`;\r\n                break;\r\n            case 'list':\r\n                convertedHtml += '<ul>';\r\n                block.data.items.forEach(function (li: any) {\r\n                    convertedHtml += `<li>${li}</li>`;\r\n                });\r\n                convertedHtml += '</ul>';\r\n                break;\r\n            default:\r\n                console.log('Unknown block type', block.type);\r\n                break;\r\n        }\r\n    });\r\n    return convertedHtml;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Article_root__71jCm\",\"top\":\"Article_top__9neDX\",\"top__content\":\"Article_top__content__zNwmz\",\"content__text\":\"Article_content__text__-r6tJ\",\"headline\":\"Article_headline__GvlvD\",\"content\":\"Article_content__1bUfY\",\"content__blocks\":\"Article_content__blocks__xG1PQ\"};","import React from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { toHtml } from './toHtml';\r\nimport { BtnLeftFixed } from '../../components/Buttons/BtnLeftFixed';\r\nimport { ButtonClose } from '../../components/Buttons/ButtonClose';\r\nimport { ButtonLike } from '../../components/Buttons/ButtonLike';\r\nimport { Block, useGetArticleQuery } from '../../redux';\r\n\r\nimport styles from './Article.module.scss';\r\nimport { convertDateLong } from './convertDate';\r\nimport { Avatar } from '../../components/Avatar';\r\n\r\nconst Article: React.FC = () => {\r\n    const { id } = useParams();\r\n\r\n    const { data, isLoading } = useGetArticleQuery(id);\r\n\r\n    if (isLoading) {\r\n        return <span>Загрузка...</span>;\r\n    }\r\n\r\n    const article = data.article;\r\n    const avatar = article.author.avatar;\r\n    const title = article.blocks.find((block: Block) => block.type === 'header')?.data.text;\r\n    const author = article.author.userName;\r\n    const cover = article.cover;\r\n    const timestamp = article.timestamp;\r\n    const viewsCount = article.views.count;\r\n    const likesCount = article.likes.count;\r\n\r\n    const date = convertDateLong(timestamp);\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            <BtnLeftFixed />\r\n            <div className=\"container-720\">\r\n                <div className={styles.top}>\r\n                    <div className={styles.top__content}>\r\n                        <Link to=\"/profile\">\r\n                            <Avatar imageSrc={avatar} />\r\n                        </Link>\r\n                        <div className={styles.content__text}>\r\n                            <Link to=\"/profile\">\r\n                                <div className={styles.headline}>{author}</div>\r\n                            </Link>\r\n                            <div className={`${styles.date} tp-text`}>{date}</div>\r\n                        </div>\r\n                    </div>\r\n                    {/* <ButtonLike /> */}\r\n                </div>\r\n                <ButtonClose />\r\n                <div className={styles.content}>\r\n                    <div\r\n                        dangerouslySetInnerHTML={{ __html: toHtml(data.article.blocks) }}\r\n                        className={styles.content__blocks}></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Article;\r\n"],"names":["BtnLeftFixed","navigate","useNavigate","BtnBack","onClick","className","styles","fill","height","viewBox","width","xmlns","d","BtnUp","window","scrollTo","React","button","setButton","listenScrollEvent","scrollY","addEventListener","ButtonClose","id","stroke","strokeLinecap","strokeLinejoin","strokeWidth","convertDateLong","timestamp","date","Number","dateObj","Date","monthDay","toLocaleString","month","day","hourMinute","hour","minute","convertDateShort","toHtml","blocks","convertedHtml","map","block","type","data","level","text","embed","file","url","caption","items","forEach","li","console","log","useParams","useGetArticleQuery","isLoading","article","avatar","author","find","userName","cover","views","count","likes","to","Avatar","imageSrc","dangerouslySetInnerHTML","__html"],"sourceRoot":""}
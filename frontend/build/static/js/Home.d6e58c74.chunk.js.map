{"version":3,"file":"static/js/Home.d6e58c74.chunk.js","mappings":"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","sources":["webpack://client/./src/components/Buttons/ButtonBookmark/ButtonBookmark.module.scss?34cc","components/Buttons/ButtonBookmark/index.tsx","webpack://client/./src/components/ArticlePreview/ArticlePreview.module.scss?a907","components/ArticlePreview/index.tsx","pages/Article/convertDate.ts","webpack://client/./src/pages/Home/Home.module.scss?ce6f","pages/Home/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"ButtonBookmark_root__80P26\"};","import React from 'react';\r\n\r\nimport styles from './ButtonBookmark.module.scss';\r\n\r\nexport const ButtonBookmark: React.FC = () => {\r\n    const [bookmark, setBookmark] = React.useState(false);\r\n\r\n    return (\r\n        <button className={styles.root} onClick={() => setBookmark(!bookmark)}>\r\n            <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                fill=\"currentColor\"\r\n                viewBox=\"0 0 24 24\">\r\n                {bookmark ? (\r\n                    <g\r\n                        id=\"favorite_24__Page-2\"\r\n                        stroke=\"none\"\r\n                        stroke-width=\"1\"\r\n                        fill=\"none\"\r\n                        fillRule=\"evenodd\">\r\n                        <g id=\"favorite_24__favorite_24\">\r\n                            <path id=\"favorite_24__Bounds\" d=\"M0 0h24v24H0z\"></path>\r\n                            <path\r\n                                d=\"m15.34 8.48 4.43.43c1.54.15 2.02 1.65.83 2.64l-3.47 2.88 1.29 4.7c.42 1.54-.9 2.48-2.2 1.55L12 17.7l-4.21 2.98c-1.31.92-2.63 0-2.2-1.55l1.28-4.7-3.47-2.88c-1.2-1-.72-2.5.83-2.64l4.43-.43 1.95-4.5c.6-1.4 2.17-1.4 2.78 0l1.95 4.5Z\"\r\n                                id=\"favorite_24__Mask\"\r\n                                fill=\"currentColor\"\r\n                                fillRule=\"nonzero\"></path>\r\n                        </g>\r\n                    </g>\r\n                ) : (\r\n                    <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M12.55 4.7a.6.6 0 0 0-1.1 0L9.83 8.6a.9.9 0 0 1-.77.55l-4.13.26a.6.6 0 0 0-.35 1.05l3.26 2.86a.9.9 0 0 1 .29.9l-.94 3.84a.6.6 0 0 0 .89.66l3.47-2a.9.9 0 0 1 .9 0l3.47 2a.6.6 0 0 0 .88-.66l-.93-3.85a.9.9 0 0 1 .29-.89l3.26-2.86a.6.6 0 0 0-.35-1.05l-4.13-.26a.9.9 0 0 1-.77-.56l-1.62-3.9ZM9.78 4a2.4 2.4 0 0 1 4.44 0l1.4 3.39 3.56.23a2.4 2.4 0 0 1 1.43 4.2l-2.86 2.5.8 3.32a2.4 2.4 0 0 1-3.53 2.64L12 18.54l-3.02 1.74a2.4 2.4 0 0 1-3.54-2.64l.8-3.32-2.85-2.5a2.4 2.4 0 0 1 1.43-4.2l3.56-.23L9.78 4Z\"\r\n                        clipRule=\"evenodd\"></path>\r\n                )}\r\n            </svg>\r\n        </button>\r\n    );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"ArticlePreview_root__Vpr1l\",\"top__img\":\"ArticlePreview_top__img__xS1Ak\",\"top\":\"ArticlePreview_top__uRKvY\",\"bookmark__wrapper\":\"ArticlePreview_bookmark__wrapper__gPiUw\",\"bottom\":\"ArticlePreview_bottom__+B7+K\",\"headline\":\"ArticlePreview_headline__ClRkj\",\"author\":\"ArticlePreview_author__Wbn5K\",\"date_and_counts\":\"ArticlePreview_date_and_counts__zfox1\",\"date\":\"ArticlePreview_date__73n6H\"};","import React from 'react';\r\nimport { IoEye, IoHeart } from 'react-icons/io5';\r\nimport { Link } from 'react-router-dom';\r\nimport { convertDateShort } from '../../pages/Article/convertDate';\r\nimport { Article, Block } from '../../redux';\r\nimport { ButtonBookmark } from '../Buttons/ButtonBookmark';\r\n\r\nimport styles from './ArticlePreview.module.scss';\r\n\r\ninterface ArticlePreviewProps {\r\n    article: Article;\r\n}\r\n\r\nexport const ArticlePreview: React.FC<ArticlePreviewProps> = ({ article }) => {\r\n    const title = article.blocks.find((block: Block) => block.type === 'header')?.data.text;\r\n    const id = article._id;\r\n    const author = article.author.userName;\r\n    const cover = article.cover;\r\n    const timestamp = article.timestamp;\r\n    const viewsCount = article.views.count;\r\n    const likesCount = article.likes.count;\r\n\r\n    const date = convertDateShort(timestamp);\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            <div className={styles.top}>\r\n                <Link to={`/articles/${id}`}>\r\n                    <div\r\n                        className={styles.top__img}\r\n                        style={{ backgroundImage: `url(${cover})` }}></div>\r\n                </Link>\r\n                <div className={styles.bookmark__wrapper}>\r\n                    <ButtonBookmark />\r\n                </div>\r\n            </div>\r\n            <div className={styles.bottom}>\r\n                <Link to={`/articles/${id}`}>\r\n                    <div className={styles.headline}>{title ? title : 'Без названия'}</div>\r\n                </Link>\r\n                <Link to={`/users/${author}`}>\r\n                    <div className={`${styles.author} tp-text`}>{author}</div>\r\n                </Link>\r\n                <div className={`${styles.date_and_counts} tp-text`}>\r\n                    <span className={styles.date}>{date}</span>\r\n                    <svg\r\n                        width=\"1\"\r\n                        height=\"10\"\r\n                        viewBox=\"0 0 1 10\"\r\n                        fill=\"none\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <rect width=\"1\" height=\"10\" fill=\"currentColor\" fillOpacity=\"0.6\" />\r\n                    </svg>\r\n                    <div className=\"icon-center\">\r\n                        <IoHeart />\r\n                        <span>{likesCount}</span>\r\n                    </div>\r\n                    <div className=\"icon-center\">\r\n                        <IoEye />\r\n                        <span>{viewsCount}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","export const convertDateLong = (timestamp: string) => {\r\n    const date = Number(timestamp);\r\n    const dateObj = new Date(date);\r\n\r\n    const monthDay = dateObj.toLocaleString('ru-Ru', { month: 'long', day: 'numeric' });\r\n    const hourMinute = dateObj.toLocaleString('ru-Ru', { hour: '2-digit', minute: '2-digit' });\r\n\r\n    return `${monthDay} в ${hourMinute}`;\r\n};\r\n\r\nexport const convertDateShort = (timestamp: string) => {\r\n    const date = Number(timestamp);\r\n    const dateObj = new Date(date);\r\n\r\n    const dateShort = dateObj.toLocaleString('ru-Ru', {\r\n        month: 'long',\r\n        day: 'numeric',\r\n    });\r\n\r\n    return dateShort;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Home_root__fomvN\",\"top\":\"Home_top__8-rSv\",\"top__img\":\"Home_top__img__g-heD\",\"wrapper\":\"Home_wrapper__8kBNU\",\"top__info\":\"Home_top__info__YzAjJ\"};","import React from 'react';\r\nimport { Article, useGetArticlesQuery } from '../../redux';\r\n\r\nimport styles from './Home.module.scss';\r\nimport { ArticlePreview } from '../../components/ArticlePreview';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { viewsSumCalc } from '../../helpers/viewsSum';\r\nimport { Button } from '@adobe/react-spectrum';\r\n\r\nconst Home = () => {\r\n    const navigate = useNavigate();\r\n\r\n    const { data, isLoading } = useGetArticlesQuery('');\r\n\r\n    if (isLoading) return <h3>Загрузка...</h3>;\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            <section className=\"articles\">\r\n                <h4 className=\"headline\">Все статьи</h4>\r\n                <ul className=\"articles__list\">\r\n                    {isLoading\r\n                        ? 'loading...'\r\n                        : data.map((article: Article, id: number) => (\r\n                              <ArticlePreview key={id} article={article} />\r\n                          ))}\r\n                </ul>\r\n            </section>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["ButtonBookmark","React","bookmark","setBookmark","className","styles","onClick","xmlns","width","height","fill","viewBox","id","stroke","fillRule","d","clipRule","ArticlePreview","article","title","blocks","find","block","type","data","text","_id","author","userName","cover","timestamp","viewsCount","views","count","likesCount","likes","date","convertDateShort","to","style","backgroundImage","fillOpacity","convertDateLong","Number","dateObj","Date","monthDay","toLocaleString","month","day","hourMinute","hour","minute","useNavigate","useGetArticlesQuery","isLoading","map"],"sourceRoot":""}
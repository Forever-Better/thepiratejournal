"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[870,754],{1613:function(e,n,t){t.r(n),t.d(n,{default:function(){return ae}});var i=t(4165),a=t(5861),s=t(885),r=t(2791),l=t(7689),o=t(7658),c=t(868),d=t(7339),u={messages:{ui:{blockTunes:{toggler:{"Click to tune":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c","or drag to move":"\u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435"}},inlineToolbar:{converter:{"Convert to":"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432"}},toolbar:{toolbox:{Add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}}},toolNames:{Text:"\u041f\u0430\u0440\u0430\u0433\u0440\u0430\u0444",Heading:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",Image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",List:"\u0421\u043f\u0438\u0441\u043e\u043a",Warning:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",Checklist:"\u0427\u0435\u043a\u043b\u0438\u0441\u0442",Quote:"\u0426\u0438\u0442\u0430\u0442\u0430",Code:"\u041a\u043e\u0434",Delimiter:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c","Raw HTML":"HTML-\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442",Table:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",Link:"\u0421\u0441\u044b\u043b\u043a\u0430",Marker:"\u041c\u0430\u0440\u043a\u0435\u0440",Bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",Italic:"\u041a\u0443\u0440\u0441\u0438\u0432",InlineCode:"\u041c\u043e\u043d\u043e\u0448\u0438\u0440\u0438\u043d\u043d\u044b\u0439"},tools:{warning:{Title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},link:{"Add a link":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443"},stub:{"The block can not be displayed correctly.":"\u0411\u043b\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d"}},blockTunes:{delete:{Delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},moveUp:{"Move up":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u0432\u0435\u0440\u0445"},moveDown:{"Move down":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437"}}}},m=t(5054),v=t.n(m),h=t(3256),f=t.n(h),x=t(4292),g=t.n(x),p=t(4898),j=t.n(p),_=t(6705),b=t.n(_),k=t(6584),N=t.n(k),C=t(3631),w=t.n(C),T={header:{class:v(),config:{levels:[3,4],defaultLevel:3}},image:{class:f(),config:{endpoints:{byFile:"".concat("http://localhost:5000/api","/upload"),byUrl:"http://localhost:8008/fetchUrl"}}},list:g(),delimiter:j(),marker:b(),inlineCode:N(),warning:{class:w(),inlineToolbar:!0,shortcut:"CMD+SHIFT+W",config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}}},y=t(5095),Z=t.n(y),I=t(1983),E=t(1452),D=t(1167),L=t(588),F=t(184),O=function(e){var n=e.setFormStatus,t=(0,r.useState)(!1),l=(0,s.Z)(t,2),o=l[0],u=l[1],m=(0,E.ug)().mutableArticle,v=(0,d.rr)(),h=(0,s.Z)(v,2),f=h[0],x=h[1],g=x.isLoading,p=x.isSuccess,j=x.isError,_=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.assign({intent:"draft"},m),f(t),n("saved");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){_(),u(!0)},k=(0,D.useMediaPredicate)("(max-width: 551px)");return(0,F.jsxs)(F.Fragment,{children:[k?(0,F.jsxs)(c.zx,{onClick:b,isLoading:g,disabled:g||!m.title,variant:"filledTonal",children:[(0,F.jsx)("span",{className:"material-symbols-outlined",children:"save_as"})," \u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"]}):(0,F.jsx)(c.zx,{onClick:b,isLoading:g,disabled:g||!m.title,variant:"filledTonal",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a"}),(0,F.jsx)(c.IC,{isOpen:o,setIsOpen:u,actionText:p?"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d":j?"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a":""})]})},A=t(2982),P="TagsInput_root__98Dtx",S="TagsInput_tagsInput__ik-Jt",M="TagsInput_tagsList__wN3Ik",z="TagsInput_tag__uw9O2",B="TagsInput_tagTitle__gvAvl",R="TagsInput_tagCloseButton__y0MND",H=function(){var e,n=(0,E.TL)(),t=(0,E.ug)().mutableArticle;return(0,F.jsx)("div",{className:P,children:(0,F.jsxs)("div",{className:S,children:[(0,F.jsx)("ul",{className:M,children:null===t||void 0===t||null===(e=t.tags)||void 0===e?void 0:e.map((function(e,i){return(0,F.jsxs)("li",{className:z,children:[(0,F.jsx)("span",{className:B,children:e}),(0,F.jsx)("button",{className:R,onClick:function(){return e=i,void n((0,d.mG)((0,A.Z)(null===t||void 0===t?void 0:t.tags.filter((function(n,t){return t!==e})))));var e},children:(0,F.jsx)("span",{className:"material-symbols-outlined",children:"cancel"})})]},i)}))}),(0,F.jsx)("input",{type:"text",onKeyUp:function(e){return"Enter"===e.key?function(e){""!==e.target.value&&(n((0,d.mG)([].concat((0,A.Z)(null===t||void 0===t?void 0:t.tags),[e.target.value]))),e.target.value="")}(e):null},placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c \u0442\u0435\u0433\u0438"})]})})},U=t(543),G=[{name:"\u041e\u0431\u0437\u043e\u0440\u044b",key:"reviews"},{name:"\u041f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f",key:"solutions"},{name:"\u041e\u0442\u0437\u044b\u0432\u044b",key:"mentions"}],K=function(){var e=(0,E.TL)(),n=(0,E.ug)().mutableArticle,t=(0,r.useState)((null===n||void 0===n?void 0:n.category)||{}),i=(0,s.Z)(t,2),a=i[0],l=i[1];return console.log(a),(0,F.jsx)(U.R,{value:a,onChange:l,children:(0,F.jsxs)("div",{className:"listBox",children:[(0,F.jsxs)(U.R.Button,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",className:"listBoxButton",children:[a.name,(0,F.jsx)("span",{className:"material-symbols-outlined",children:"unfold_more"})]}),(0,F.jsx)(U.R.Options,{className:"listBoxOptions",children:G.map((function(n){return(0,F.jsx)(U.R.Option,{className:"listBoxOption",onClick:function(){return e((0,d.c2)(n))},value:n,children:function(e){e.active;var t=e.selected;return(0,F.jsxs)("div",{className:"".concat(t&&"selected","\n                                    optionContent\n                                    "),children:[t&&(0,F.jsx)("span",{className:"material-symbols-outlined",children:"check"})," ",n.name]})}},n.key)}))})]})})},Q="ConfirmDialog_plateContent__P6c5G",V="ConfirmDialog_itemHeadline__-50Ki",W="ConfirmDialog_buttonGroup__gBO8W",q="ConfirmDialog_buttonGroupConfirm__rlEzy",J=function(e){var n=e.mode,t=(0,l.s0)(),o=(0,E.ug)().mutableArticle,u=(0,r.useState)(!1),m=(0,s.Z)(u,2),v=m[0],h=m[1],f=(0,d.rr)(),x=(0,s.Z)(f,2),g=x[0],p=x[1],j=p.isLoading,_=p.isSuccess,b=p.isError,k=(0,d.Ph)(),N=(0,s.Z)(k,1)[0],C=(0,D.useMediaPredicate)("(max-width: 551px)"),w=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.assign({saveFromDraft:"isDraft"===n,draftId:"isDraft"===n&&o._id},{intent:"publish"},o),"isEditing"===n?N({formData:t,id:o._id}):g(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:h(!0),j||b||t(-1),setTimeout((function(){return h(!1)}),5e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.IC,{isOpen:v,setIsOpen:h,actionText:_?"\u0421\u0442\u0430\u0442\u044c\u044f \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430":b?"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e":""}),(0,F.jsx)(c.zx,{isLoading:j,disabled:j||!(o.category&&null!==o&&void 0!==o&&o.cover),onClick:T,variant:"filled",children:"isEditing"===n?C?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e":"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})},X=function(e){var n=e.mode,t=e.setFormStatus,i=(0,E.ug)().mutableArticle,a=(0,r.useState)(!1),l=(0,s.Z)(a,2),o=l[0],d=l[1],u=(0,r.useState)(void 0),m=(0,s.Z)(u,2),v=m[0],h=m[1],f=(0,D.useMediaPredicate)("(max-width: 551px)");(0,D.useMediaPredicate)("(max-width: 397px)");return(0,F.jsxs)(F.Fragment,{children:[" ",(0,F.jsx)(c.zx,{onClick:function(){return d(!0)},disabled:!i.title,variant:"filled",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),(0,F.jsxs)(c.hg,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0448\u0442\u0440\u0438\u0445\u0438",isOpen:o,setIsOpen:d,children:[(0,F.jsxs)("div",{className:Q,children:[(0,F.jsxs)("div",{children:[(0,F.jsx)("div",{className:V,children:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 *"}),(0,F.jsx)(c.hI,{selectedFile:v,setSelectedFile:h,mode:n})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("div",{className:V,children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f *"}),(0,F.jsx)(K,{})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("div",{className:V,children:"\u0422\u0435\u0433\u0438"}),(0,F.jsx)(H,{})]})]}),(0,F.jsxs)("div",{className:W,children:[f?(0,F.jsx)(c.zx,{onClick:function(){return d(!1)},icon:!0,variant:"outlined",children:(0,F.jsx)("span",{className:"material-symbols-outlined",children:"undo"})}):(0,F.jsx)(c.zx,{onClick:function(){return d(!1)},variant:"outlined",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,F.jsxs)("div",{className:q,children:[(0,F.jsx)(O,{setFormStatus:t}),(0,F.jsx)(J,{mode:n})]})]})]})]})},Y="ArticleEditorPage_root__mqbsP",$="ArticleEditorPage_top_bar__KsrDR",ee="ArticleEditorPage_barRightButtons__kfDHy",ne="ArticleEditorPage_container__Qv0LR",te="ArticleEditorPage_textarea__wrapper__Eg3+2",ie="ArticleEditorPage_writingHeader__w8Tz8",ae=function(){var e,n,t=(0,l.TH)(),m=(0,E.TL)(),v=(0,l.s0)(),h=null===t||void 0===t||null===(e=t.state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.pathname,f=(0,l.UO)().id,x=Boolean("drafts"===t.pathname.split("/")[1]),g=!x&&Boolean(f),p=(0,r.useState)(x?"isDraft":g?"isEditing":"isNew"),j=(0,s.Z)(p,2),_=j[0],b=j[1];(0,E.Z7)("\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f");var k=(0,E.ug)().mutableArticle,N=(0,r.useRef)(null),C=(0,r.useRef)(null),w=(0,r.useState)("unchanged"),y=(0,s.Z)(w,2),A=y[0],P=y[1],S=(0,d.oD)(f,{skip:"isNew"===_,refetchOnMountOrArgChange:!0}),M=S.data,z=S.isLoading,B=S.isError,R=(0,D.useMediaPredicate)("(max-width: 768px)"),H=(0,o.E)();(0,r.useEffect)((function(){"new"===t.pathname.split("/")[2]&&(b("isNew"),m((0,d.I$)({_id:"",title:"",cover:"",blocks:[],tags:[]})),C.current&&(C.current.value=""))}),[_,t,m,M]),(0,r.useEffect)((function(){var e=function(e){e.preventDefault(),e.returnValue=""};return"modified"===A?(window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}):function(){}}),[A]);var U=(0,r.useCallback)((function(e){N.current=e}),[]),G=(0,r.useCallback)((0,a.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=N.current)||void 0===n?void 0:n.save();case 2:t=e.sent,m((0,d.UX)(t));case 4:case"end":return e.stop()}}),e)}))),[m]),K=(0,r.useCallback)(Z()((function(){G()}),150),[]);return z?(0,F.jsx)(c.aV,{}):B&&"isEditing"===_?(0,F.jsx)(I.default,{}):((0,L.rw)(),(0,F.jsxs)("div",{className:Y,children:[(0,F.jsxs)("div",{className:$,children:[(0,F.jsx)(c.zx,{onClick:function(){return v(h&&h!==t.pathname?h:"/")},variant:"outlined",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,F.jsxs)("div",{className:ee,children:[!g&&(0,F.jsx)(O,{setFormStatus:P}),(0,F.jsx)(X,{mode:_,setFormStatus:P})]})]}),(0,F.jsx)("div",{className:ne,children:(0,F.jsxs)("form",{onChange:function(e){""!==(null===k||void 0===k?void 0:k.title)?P("modified"):P("unchanged")},children:[(0,F.jsx)("div",{className:te,children:(0,F.jsx)("textarea",{ref:C,maxLength:68,autoFocus:!0,placeholder:R?"\u0414\u0430\u0439 \u043c\u043d\u0435 \u0438\u043c\u044f":"\u041a\u0430\u043a \u043a\u043e\u0440\u0430\u0431\u043b\u044c \u043d\u0430\u0437\u043e\u0432\u0451\u0448\u044c \u0442\u0430\u043a \u043e\u043d \u0438 \u043f\u043e\u043f\u043b\u044b\u0432\u0451\u0442",className:ie,value:null===k||void 0===k?void 0:k.title,onChange:function(e){return m((0,d.Td)(e.target.value))},style:{height:42}})}),(g||x)&&null!==k&&void 0!==k&&k.blocks?(0,F.jsx)(H,{onInitialize:U,placeholder:"\u0414\u0430\u0432\u0430\u0439 \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u043a\u043b\u0430\u0441\u0441\u043d\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e!",defaultValue:{blocks:null===k||void 0===k?void 0:k.blocks},tools:T,i18n:u,onChange:K}):"isNew"===_&&(0,F.jsx)(H,{onInitialize:U,placeholder:"\u0414\u0430\u0432\u0430\u0439 \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u043a\u043b\u0430\u0441\u0441\u043d\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e!",tools:T,i18n:u,onChange:K})]})})]}))}},1983:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var i=t(7689),a=t(868),s=t.p+"static/media/404-computer.930d1cd0c8d31c925586.png",r="NotFound_root__nh4fq",l="NotFound_content__Yldim",o="NotFound_headline__CbQUR",c=t(184),d=function(){var e=(0,i.s0)();return(0,c.jsx)("div",{className:r,children:(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("img",{src:s,alt:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),(0,c.jsx)("h4",{className:o,children:"404 Not Found"}),(0,c.jsx)("p",{children:"\u0423\u043f\u0441! \u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442."}),(0,c.jsx)(a.zx,{onClick:function(){return e("/")},variant:"filledTonal",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0434\u043e\u043c\u043e\u0439"})]})})}}}]);
//# sourceMappingURL=ArticleEditorPage.dffdab98.chunk.js.map